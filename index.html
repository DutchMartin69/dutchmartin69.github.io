<html><head><base href="https://websim.co/netherlands/ev-charging/">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Time and Cost calculator on charging your car</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 20px 0;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background: linear-gradient(to bottom, #ffffff, #4CAF50);
        color: #00008B;
    }
    .container {
        background-color: rgba(255, 255, 255, 0.9);
        border-radius: 10px;
        padding: 20px;
        max-width: 90%;
        width: 400px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    h1 {
        font-size: 1.2em;
        text-align: center;
        margin-bottom: 20px;
        color: #00008B;
    }
    label, select, input, button {
        display: block;
        width: 100%;
        margin-bottom: 10px;
    }
    select {
        padding: 12px;
        font-size: 16px;
    }
    select, button {
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }
    button {
        background-color: #4CAF50;
        color: white;
        border: none;
        cursor: pointer;
        transition: background-color 0.3s;
    }
    button:hover {
        background-color: #45a049;
    }
    #result {
        margin-top: 20px;
        font-weight: bold;
        color: #00008B;
    }
    .slider-container {
        width: 100%;
        margin-bottom: 20px;
        position: relative;
    }
    .slider {
        -webkit-appearance: none;
        width: 100%;
        height: 15px;
        border-radius: 5px;
        outline: none;
        opacity: 0.7;
        transition: opacity .2s;
    }
    .slider:hover {
        opacity: 1;
    }
    .slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 25px;
        height: 25px;
        border-radius: 50%;
        background: #4CAF50;
        cursor: pointer;
    }
    .slider::-moz-range-thumb {
        width: 25px;
        height: 25px;
        border-radius: 50%;
        background: #4CAF50;
        cursor: pointer;
    }
    .slider-labels {
        display: flex;
        justify-content: space-between;
        margin-top: 5px;
        color: #00008B;
    }
    #twitterButton, #whatsappButton {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-top: 10px;
    }
    #twitterButton {
        background-color: #000000;
    }
    #twitterButton:hover {
        background-color: #333333;
    }
    #whatsappButton {
        background-color: #25D366;
    }
    #whatsappButton:hover {
        background-color: #128C7E;
    }
    .charge-value {
        position: absolute;
        top: -25px;
        left: 50%;
        transform: translateX(-50%);
        background-color: #4CAF50;
        color: white;
        padding: 2px 6px;
        border-radius: 3px;
    }
    .x-icon, .whatsapp-icon {
        width: 20px;
        height: 20px;
        margin-right: 8px;
    }
    label, p {
        color: #00008B;
    }
    .range-info {
        position: absolute;
        top: 30px;
        left: 0;
        width: 100%;
        text-align: center;
        font-size: 0.9em;
        color: #00008B;
    }
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 50"><path d="M10 40 Q20 45 30 40 L70 40 Q80 45 90 40 L90 30 Q95 25 90 20 L80 10 Q70 5 60 10 L40 10 Q30 5 20 10 L10 20 Q5 25 10 30 Z" fill="rgba(0,0,0,0.1)"/> </svg>');
        background-repeat: no-repeat;
        background-position: center;
        background-size: 80% auto;
        z-index: -1;
        opacity: 0.3;
    }
</style>
</head>
<body>
<div class="container">
    <h1>Time and Cost calculator on charging your car</h1>
    
    <label for="car-model">Select Car Model:</label>
    <select id="car-model">
        <option value="">Select a car model</option>
        <option value="audi">Audi e-tron GT</option>
        <option value="fiat">Fiat 500</option>
    </select>

    <label for="charger-type">Select Charger Type:</label>
    <select id="charger-type">
        <option value="">Select a charger type</option>
        <option value="11">11 kW</option>
        <option value="22">22 kW</option>
        <option value="50">DC 50+ kW</option>
        <option value="150">DC 150 kW</option>
        <option value="375">DC 375 kW</option>
    </select>
    
    <label for="current-charge">Current Charge:</label>
    <div class="slider-container">
        <input type="range" min="0" max="100" value="0" class="slider" id="current-charge">
        <div id="currentChargeValue" class="charge-value">0%</div>
        <div class="slider-labels">
            <span>0%</span>
            <span>100%</span>
        </div>
    </div>
    
    <label for="desired-charge">Desired End Charge:</label>
    <div class="slider-container">
        <input type="range" min="0" max="100" value="100" class="slider" id="desired-charge">
        <div id="desiredChargeValue" class="charge-value">100%</div>
        <div class="slider-labels">
            <span>0%</span>
            <span>100%</span>
        </div>
        <div id="rangeInfo" class="range-info"></div>
    </div>
    
    <button onclick="calculateCost()">Calculate Cost & Time</button>
    
    <div id="result"></div>
    <button id="twitterButton" onclick="shareOnTwitter()" style="display: none;">
        <svg class="x-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white">
            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
        </svg>
        Share on X
    </button>
    <button id="whatsappButton" onclick="shareOnWhatsApp()" style="display: none;">
        <svg class="whatsapp-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" fill="white" width="20" height="20">
            <path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/>
        </svg>
        Share on WhatsApp
    </button>
</div>

<script>
    let kWhToCharge = 0;
    let selectedCarModel = '';

    const rangeData = {
        'audi': {
            100: { km: 402 },
            80: { km: 322 },
            60: { km: 241 },
            40: { km: 161 },
            20: { km: 80 }
        },
        'fiat': {
            100: { km: 320 },
            80: { km: 256 },
            60: { km: 192 },
            40: { km: 128 },
            20: { km: 64 }
        }
    };

    function calculateCost() {
        const carModelElement = document.getElementById('car-model');
        const carModel = carModelElement.value;
        const chargerTypeElement = document.getElementById('charger-type');
        const chargerType = parseInt(chargerTypeElement.value);
        const currentCharge = parseInt(document.getElementById('current-charge').value);
        const desiredCharge = parseInt(document.getElementById('desired-charge').value);

        if (!carModel || !chargerType) {
            alert("Please select both a car model and a charger type.");
            return;
        }

        selectedCarModel = carModelElement.options[carModelElement.selectedIndex].text;
        
        let batteryCapacity;
        if (carModel === 'audi') {
            batteryCapacity = 93.4; // kWh
        } else {
            batteryCapacity = 42; // kWh
        }
        
        let costPerKWh;
        if (chargerType <= 22) {
            costPerKWh = 0.36;
        } else {
            costPerKWh = 0.71;
        }
        
        const chargeToAdd = desiredCharge - currentCharge;
        kWhToCharge = (batteryCapacity * chargeToAdd) / 100;
        const totalCost = kWhToCharge * costPerKWh;
        
        // Calculate charging time in minutes
        let chargingTimeMinutes;
        if (chargerType <= 22) {
            chargingTimeMinutes = (kWhToCharge / chargerType) * 60;
        } else {
            // Assuming DC fast charging is about 80% efficient
            chargingTimeMinutes = (kWhToCharge / (chargerType * 0.8)) * 60;
        }
        
        // Format charging time
        let formattedChargingTime;
        if (chargingTimeMinutes < 60) {
            formattedChargingTime = `${Math.round(chargingTimeMinutes)} minutes`;
        } else {
            const hours = Math.floor(chargingTimeMinutes / 60);
            const minutes = Math.round(chargingTimeMinutes % 60);
            formattedChargingTime = `${hours} hour${hours > 1 ? 's' : ''} and ${minutes} minute${minutes !== 1 ? 's' : ''}`;
        }
        
        const resultDiv = document.getElementById('result');
        resultDiv.innerHTML = `
            <p>Cost per kWh: €${costPerKWh.toFixed(2)}</p>
            <p>Total Cost: €${totalCost.toFixed(2)}</p>
            <p>Estimated Charging Time: ${formattedChargingTime}</p>
        `;

        document.getElementById('twitterButton').style.display = 'flex';
        document.getElementById('whatsappButton').style.display = 'flex';
    }

    function shareOnTwitter() {
        const tweetText = encodeURIComponent(`I just charged my ${selectedCarModel} car and calculated the cost with AI by charging ${kWhToCharge.toFixed(2)} kWh green energy https://dutchmartin69.github.io/index.html`);
        const twitterUrl = `https://twitter.com/intent/tweet?text=${tweetText}`;
        window.open(twitterUrl, '_blank');
    }

    function shareOnWhatsApp() {
        const messageText = encodeURIComponent(`I just charged my ${selectedCarModel} car and calculated the cost with AI by charging ${kWhToCharge.toFixed(2)} kWh green energy https://dutchmartin69.github.io/index.html`);
        const whatsappUrl = `https://wa.me/?text=${messageText}`;
        window.open(whatsappUrl, '_blank');
    }

    // Update slider value display and color
    const currentChargeSlider = document.getElementById('current-charge');
    const desiredChargeSlider = document.getElementById('desired-charge');
    const currentChargeValue = document.getElementById('currentChargeValue');
    const desiredChargeValue = document.getElementById('desiredChargeValue');
    const rangeInfo = document.getElementById('rangeInfo');
    
    function updateSlider(slider, valueDisplay) {
        const percentage = slider.value;
        valueDisplay.textContent = `${percentage}%`;
        
        let color;
        if (percentage <= 10) {
            color = 'purple';
        } else if (percentage <= 20) {
            color = 'red';
        } else if (percentage <= 50) {
            color = 'orange';
        } else if (percentage <= 80) {
            color = 'yellow';
        } else {
            color = '#4CAF50'; // green
        }
        
        slider.style.background = `linear-gradient(to right, ${color} 0%, ${color} ${percentage}%, #d3d3d3 ${percentage}%, #d3d3d3 100%)`;
    }

    function updateDesiredCharge() {
        const currentCharge = parseInt(currentChargeSlider.value);
        const desiredCharge = parseInt(desiredChargeSlider.value);
        const carModel = document.getElementById('car-model').value;
        
        if (desiredCharge < currentCharge) {
            desiredChargeSlider.value = currentCharge;
        }
        
        updateSlider(desiredChargeSlider, desiredChargeValue);
        
        if (carModel) {
            updateRangeInfo(carModel, desiredCharge);
        } else {
            rangeInfo.textContent = '';
        }
    }

    function updateRangeInfo(carModel, charge) {
        const closestCharge = [100, 80, 60, 40, 20].reduce((prev, curr) => 
            Math.abs(curr - charge) < Math.abs(prev - charge) ? curr : prev
        );
        
        const range = rangeData[carModel][closestCharge];
        rangeInfo.textContent = `Estimated Range: ${range.km} km`;
    }

    currentChargeSlider.oninput = function() {
        updateSlider(currentChargeSlider, currentChargeValue);
        updateDesiredCharge();
    };

    desiredChargeSlider.oninput = updateDesiredCharge;

    document.getElementById('car-model').onchange = function() {
        const carModel = this.value;
        if (carModel) {
            updateDesiredCharge();
            updateRangeInfo(carModel, parseInt(desiredChargeSlider.value));
        } else {
            rangeInfo.textContent = '';
        }
    };

    // Initialize the sliders
    updateSlider(currentChargeSlider, currentChargeValue);
    updateSlider(desiredChargeSlider, desiredChargeValue);
</script>
</body>
</html>
